<script src="/socket.io/socket.io.js"></script>
<script>
  var compId = 'crmujgary3vgf1orghxbtzbn6ebnvcxr';
  var socket = io.connect('http://api.raidcomp.dev:5000');
  socket.on(compId, function (data) {
    console.log(data);

    if (data.action === 'requestNames') socket.emit('raidcomp', {action:'sendName', compId: compId, user: 'user', name: 'requestTest'});
    // socket.emit('my other event', { my: 'data' });
  });
  socket.on(compId+':user', function (data) {
    console.log(data);
  });

  function add() {
  	socket.emit('raidcomp', {action: 'addCharacter', compId: compId, user: 'user', character: { id: 'id', name: 'blah', className: 'death knight', realm: 'blackmoore', region: 'eu', spec: 'blood', role:'TANK'}});
  }
  function moveto2() {
    socket.emit('raidcomp', {action: 'moveCharacter', to: 2, compId: compId, user: 'user', character: { id: 'id' } });
  }
  function moveto1() {
    socket.emit('raidcomp', {action: 'moveCharacter', to: 1, compId: compId, user: 'user', character: { id: 'id' } });
  }
  function removeca() {
    socket.emit('raidcomp', {action: 'removeCharacter', compId: compId, user: 'user', character: {id:'id'}});
  }

  function requestNames() {
    socket.emit('raidcomp', {action: 'requestNames', compId: compId, user: 'user'});
  }
</script>

<div onclick="add();">add char</div>
<div onclick="moveto1();">move1</div>
<div onclick="moveto2();">move2</div>
<div onclick="removeca();">remove</div>
<div onclick="requestNames();">requestNames</div>
